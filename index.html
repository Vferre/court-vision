<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Basketball 5×5 Plays</title>
  <meta name="description" content="Scrollable library of 5x5 basketball plays with visual diagrams and downloads." />
  <style>
    :root {
      --bg: #0b0d10;
      --card: #12161c;
      --ink: #e9eef5;
      --muted: #a8b2c1;
      --accent: #ffb703; /* subtle highlight */
      --court: #f6b45b;  /* light wood tint */
      --court-lines: #2b2f36;
      --offense: #e63946; /* red dots */
      --defense: #1b1b1b; /* black dots */
      --arrow: #4a90e2;
      --radius: 14px;
      --shadow: 0 6px 20px rgba(0,0,0,.35);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background: radial-gradient(90vw 90vh at 20% -10%, #151a21, #0b0d10);
      color: var(--ink);
    }
    header {
      position: sticky; top: 0; z-index: 5;
      backdrop-filter: blur(10px);
      background: rgba(11,13,16,.6);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 18px 16px; }
    h1 { margin: 6px 0 10px; font-size: 20px; letter-spacing: .3px; }
    .sub { color: var(--muted); font-size: 14px; margin-bottom: 12px; }
    .controls {
      display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center;
    }
    input[type="search"] {
      width: 100%; padding: 12px 14px; border-radius: 10px; border: 1px solid rgba(255,255,255,.08);
      background: #0f141a; color: var(--ink); outline: none;
    }
    .pill {
      font-size: 13px; padding: 8px 12px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,.1); color: var(--muted);
      background: #0f141a;
    }

    main { padding: 22px 16px 50px; }
    .grid {
      max-width: 1200px; margin: 0 auto;
      display: grid; gap: 16px;
      grid-template-columns: repeat(auto-fill, minmax(310px, 1fr));
    }
    .card {
      background: linear-gradient(180deg, #141922, #10151b);
      border: 1px solid rgba(255,255,255,.06);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      display: flex; flex-direction: column;
    }
    .card-head {
      padding: 14px 14px 10px;
      display: flex; align-items: center; justify-content: space-between;
      border-bottom: 1px dashed rgba(255,255,255,.06);
    }
    .title { font-weight: 700; font-size: 16px; }
    .badge { font-size: 12px; color: #0b0d10; background: var(--accent); padding: 4px 8px; border-radius: 999px; }
    .svg-wrap {
      padding: 10px 10px 0 10px;
    }
    .meta {
      padding: 10px 14px 14px;
      display: grid; gap: 6px; color: var(--muted); font-size: 13px;
    }
    .meta strong { color: var(--ink); font-weight: 600; }
    .options { margin-top: 4px; }
    .options li { margin-left: 18px; }
    .actions {
      padding: 10px 14px 14px; display: flex; gap: 8px; flex-wrap: wrap;
      border-top: 1px dashed rgba(255,255,255,.06);
    }
    button {
      appearance: none; border: 1px solid rgba(255,255,255,.12); background: transparent;
      color: var(--ink); padding: 8px 10px; border-radius: 10px; cursor: pointer; font-size: 13px;
    }
    button:hover { border-color: rgba(255,255,255,.3); }
    .empty { color: var(--muted); text-align: center; padding: 30px; }
    footer { color: var(--muted); text-align: center; padding: 24px; font-size: 12px; opacity: .8; }
    a { color: var(--ink); text-decoration: none; border-bottom: 1px dotted rgba(255,255,255,.3); }
    @media (min-width: 1100px) {
      h1 { font-size: 22px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <h1>Basketball 5×5 Plays</h1>
      <div class="sub">Scroll the library. Click a card to download the diagram. No login, just hoops.</div>
      <div class="controls">
        <input id="search" type="search" placeholder="Search plays, goals, situations (e.g., horns, zone, late clock, 5-out) …" />
        <div class="pill" id="count">0 plays</div>
      </div>
    </div>
  </header>

  <main>
    <div class="grid" id="grid"></div>
    <div class="empty" id="empty" hidden>Nothing matches your search.</div>
  </main>

  <footer>
    Built for coaches & hoopers. Add more plays in <code>playsData</code> below.
  </footer>

<script>
/**
 * Data model (expand as needed):
 * x/y are percentages (0..100) relative to court width/height.
 * arrows: lines showing action from -> to.
 */
const playsData = [
  {
    id: "horns-1",
    name: "Horns (High Double Screens)",
    goal: "Create a quick advantage via high PnR or elbow touches",
    useWhen: "You want early offense vs. man; good after dead balls",
    avoidWhen: "Opponents hard trap high; your bigs can’t set solid screens",
    options: [
      "1 uses 4/5 screens into middle; hit roll/pop",
      "Throw to elbow entry then dribble handoff",
      "Reject screen into baseline drive & shake"
    ],
    offense: [ {x:10,y:80,label:"1"}, {x:35,y:25,label:"4"}, {x:65,y:25,label:"5"}, {x:20,y:55,label:"2"}, {x:80,y:55,label:"3"} ],
    defense: [ {x:12,y:78},{x:35,y:45},{x:65,y:45},{x:25,y:70},{x:75,y:70} ],
    arrows: [ {from:{x:10,y:80}, to:{x:50,y:50}}, {from:{x:35,y:25}, to:{x:45,y:40}}, {from:{x:65,y:25}, to:{x:55,y:40}} ],
    tag: "man half-court"
  },
  {
    id: "flex-1",
    name: "Flex (Baseline Screen Series)",
    goal: "Create open layups or mid-post seals via cross-screens",
    useWhen: "You have disciplined cutters; need movement vs. man",
    avoidWhen: "Switch-heavy defenses without counters",
    options: [
      "Baseline flex cut for 3 from 5’s screen",
      "Downscreen for 2 to the top",
      "Slip if switch anticipated"
    ],
    offense: [ {x:15,y:65,label:"1"},{x:30,y:80,label:"2"},{x:80,y:65,label:"3"},{x:25,y:40,label:"4"},{x:70,y:40,label:"5"} ],
    defense: [ {x:18,y:63},{x:29,y:70},{x:78,y:62},{x:28,y:50},{x:70,y:50} ],
    arrows: [ {from:{x:80,y:65}, to:{x:30,y:65}}, {from:{x:30,y:80}, to:{x:35,y:50}} ],
    tag: "man motion"
  },
  {
    id: "fiveout-motion",
    name: "Motion 5-Out",
    goal: "Max spacing; drive-kick; random actions",
    useWhen: "You want flow, reads, and spacing vs. any coverage",
    avoidWhen: "When you need set-play precision late clock",
    options: [
      "Pass-cut-replace rules",
      "Backdoor vs. overplays",
      "Quick DHO into middle drive"
    ],
    offense: [ {x:12,y:65,label:"1"},{x:28,y:40,label:"2"},{x:50,y:30,label:"4"},{x:72,y:40,label:"3"},{x:88,y:65,label:"5"} ],
    defense: [ {x:15,y:68},{x:30,y:50},{x:50,y:42},{x:70,y:50},{x:85,y:68} ],
    arrows: [ {from:{x:12,y:65}, to:{x:28,y:40}}, {from:{x:28,y:40}, to:{x:50,y:30}} ],
    tag: "man 5-out"
  },
  {
    id: "box-1",
    name: "Box Set – Backscreen Lob",
    goal: "Quick hitter for rim look",
    useWhen: "Baseline inbound or ATO needing a punch",
    avoidWhen: "Shot blockers camping in drop",
    options: [
      "Backscreen for 3; 5 seals for high-low",
      "Counter: fake lob, hit slip",
      "Throwback to 1 for shot"
    ],
    offense: [ {x:50,y:85,label:"1"},{x:30,y:55,label:"2"},{x:70,y:55,label:"3"},{x:30,y:35,label:"4"},{x:70,y:35,label:"5"} ],
    defense: [ {x:52,y:80},{x:32,y:60},{x:68,y:60},{x:30,y:45},{x:70,y:45} ],
    arrows: [ {from:{x:70,y:55}, to:{x:50,y:30}}, {from:{x:30,y:35}, to:{x:50,y:30}} ],
    tag: "ATO baseline"
  },
  {
    id: "spain-pnr",
    name: "Spain PnR (Stack PnR)",
    goal: "Confuse drop with backscreen on roller",
    useWhen: "Your 5 is a strong roller; 2 is a spacer/screener",
    avoidWhen: "Switch-everything with good comms",
    options: [
      "Hit roller if no help",
      "Skip to shooter when weak-side tags",
      "Short roll into DHO"
    ],
    offense: [ {x:12,y:78,label:"1"},{x:48,y:38,label:"5"},{x:55,y:30,label:"2"},{x:22,y:45,label:"3"},{x:80,y:50,label:"4"} ],
    defense: [ {x:14,y:75},{x:48,y:50},{x:55,y:42},{x:25,y:55},{x:78,y:60} ],
    arrows: [ {from:{x:12,y:78}, to:{x:40,y:48}}, {from:{x:55,y:30}, to:{x:48,y:38}} ],
    tag: "PnR"
  }
];

// ---------- Rendering ----------
const grid = document.getElementById('grid');
const searchEl = document.getElementById('search');
const countEl = document.getElementById('count');
const emptyEl = document.getElementById('empty');

function pct(v){ return v + '%'; }
function uid(){ return 'id' + Math.random().toString(36).slice(2); }

function render() {
  grid.innerHTML = '';
  const q = (searchEl.value || '').trim().toLowerCase();
  const filtered = playsData.filter(p => {
    if (!q) return true;
    const hay = [p.name, p.goal, p.useWhen, p.avoidWhen, (p.options||[]).join(' '), p.tag].join(' ').toLowerCase();
    return hay.includes(q);
  });
  filtered.forEach(play => grid.appendChild(renderCard(play)));
  countEl.textContent = `${filtered.length} play${filtered.length===1?'':'s'}`;
  emptyEl.hidden = filtered.length !== 0;
}

function renderCard(play) {
  const card = document.createElement('article'); card.className = 'card';
  // Header
  const head = document.createElement('div'); head.className = 'card-head';
  const title = document.createElement('div'); title.className = 'title'; title.textContent = play.name;
  const badge = document.createElement('span'); badge.className = 'badge'; badge.textContent = play.tag || 'play';
  head.appendChild(title); head.appendChild(badge);
  card.appendChild(head);

  // SVG Court
  const svgWrap = document.createElement('div'); svgWrap.className = 'svg-wrap';
  const svg = buildCourt(play); svgWrap.appendChild(svg);
  card.appendChild(svgWrap);

  // Meta
  const meta = document.createElement('div'); meta.className = 'meta';
  meta.innerHTML = `
    <div><strong>Goal:</strong> ${play.goal}</div>
    <div><strong>Use when:</strong> ${play.useWhen}</div>
    <div><strong>Avoid when:</strong> ${play.avoidWhen}</div>
    <div class="options"><strong>Options:</strong>
      <ul>${(play.options||[]).map(o=>`<li>${o}</li>`).join('')}</ul>
    </div>
  `;
  card.appendChild(meta);

  // Actions
  const actions = document.createElement('div'); actions.className = 'actions';
  const btnSvg = document.createElement('button'); btnSvg.textContent = 'Download SVG';
  btnSvg.addEventListener('click', () => downloadSVG(svg, `${play.id}.svg`));
  const btnPng = document.createElement('button'); btnPng.textContent = 'Download PNG';
  btnPng.addEventListener('click', () => downloadPNG(svg, `${play.id}.png`));
  actions.appendChild(btnSvg); actions.appendChild(btnPng);
  card.appendChild(actions);

  return card;
}

function buildCourt(play) {
  const W = 360, H = 240; // compact, responsive-ish
  const PAD = 12;
  const svg = document.createElementNS('http://www.w3.org/2000/svg','svg');
  svg.setAttribute('viewBox', `0 0 ${W} ${H}`);
  svg.setAttribute('width', '100%');
  svg.setAttribute('height', '220');

  // Court wood
  const wood = rect(0,0,W,H, 10, 'var(--court)', 'none');
  svg.appendChild(wood);

  // Court outline + midline
  svg.appendChild(rect(PAD,PAD,W-2*PAD,H-2*PAD, 10, 'none', 'var(--court-lines)', 2));
  svg.appendChild(line(W/2, PAD, W/2, H-PAD, 'var(--court-lines)', 1.5));

  // Center circle
  svg.appendChild(circle(W/2, H/2, 18, 'none', 'var(--court-lines)', 1.5));

  // Key/paint on one side (simplified half-court styling)
  const keyW = 120, keyH = 100;
  svg.appendChild(rect(W/2 - keyW/2, PAD, keyW, keyH, 8, 'rgba(0,0,0,.04)', 'var(--court-lines)', 1.2));
  svg.appendChild(circle(W/2, PAD + 28, 6, 'none', 'var(--court-lines)', 1.2)); // rim
  svg.appendChild(line(W/2 - 18, PAD + 28, W/2 + 18, PAD + 28, 'var(--court-lines)', 1.2)); // rim line

  // Three-point arc (approximate)
  const arcR = 100, arcCx = W/2, arcCy = PAD + 28;
  const arcStartX = arcCx - 90, arcStartY = PAD + 80;
  const arcEndX = arcCx + 90, arcEndY = PAD + 80;
  const arcPath = document.createElementNS('http://www.w3.org/2000/svg','path');
  arcPath.setAttribute('d', `M ${arcStartX} ${arcStartY} A ${arcR} ${arcR} 0 0 0 ${arcEndX} ${arcEndY}`);
  arcPath.setAttribute('fill','none'); arcPath.setAttribute('stroke','var(--court-lines)');
  arcPath.setAttribute('stroke-width','1.4'); svg.appendChild(arcPath);

  // Players (offense red, defense black)
  (play.defense||[]).forEach(p => {
    const {x,y} = toXY(p.x,p.y,W,H);
    svg.appendChild(circle(x,y,6,'var(--defense)','var(--defense)'));
  });
  (play.offense||[]).forEach(p => {
    const {x,y} = toXY(p.x,p.y,W,H);
    svg.appendChild(circle(x,y,6,'var(--offense)','white',1.1));
    if (p.label) {
      const t = text(x, y-10, p.label);
      svg.appendChild(t);
    }
  });

  // Arrows
  (play.arrows||[]).forEach(a => {
    const f = toXY(a.from.x,a.from.y,W,H);
    const t = toXY(a.to.x,a.to.y,W,H);
    svg.appendChild(arrow(f.x,f.y,t.x,t.y));
  });

  return svg;
}

// ---------- SVG helpers ----------
function rect(x,y,w,h, r=0, fill='none', stroke='none', sw=1){
  const el = document.createElementNS('http://www.w3.org/2000/svg','rect');
  el.setAttribute('x',x); el.setAttribute('y',y); el.setAttribute('width',w); el.setAttribute('height',h);
  if (r) el.setAttribute('rx', r);
  el.setAttribute('fill', fill); el.setAttribute('stroke', stroke); el.setAttribute('stroke-width', sw);
  return el;
}
function line(x1,y1,x2,y2, stroke='black', sw=1){
  const el = document.createElementNS('http://www.w3.org/2000/svg','line');
  el.setAttribute('x1',x1); el.setAttribute('y1',y1); el.setAttribute('x2',x2); el.setAttribute('y2',y2);
  el.setAttribute('stroke', stroke); el.setAttribute('stroke-width', sw);
  el.setAttribute('stroke-linecap','round');
  return el;
}
function circle(cx,cy,r, fill='none', stroke='none', sw=1){
  const el = document.createElementNS('http://www.w3.org/2000/svg','circle');
  el.setAttribute('cx',cx); el.setAttribute('cy',cy); el.setAttribute('r',r);
  el.setAttribute('fill', fill); el.setAttribute('stroke', stroke); el.setAttribute('stroke-width', sw);
  return el;
}
function text(x,y, str){
  const el = document.createElementNS('http://www.w3.org/2000/svg','text');
  el.setAttribute('x', x); el.setAttribute('y', y);
  el.setAttribute('text-anchor', 'middle'); el.setAttribute('font-size','10'); el.setAttribute('fill','var(--ink)');
  el.textContent = str; return el;
}
function toXY(px,py,W,H){
  // Map from 0..100 percentages to SVG coords with padding
  const PAD = 12;
  const innerW = W - 2*PAD, innerH = H - 2*PAD;
  return { x: PAD + innerW * (px/100), y: PAD + innerH * (py/100) };
}
function arrow(x1,y1,x2,y2){
  const g = document.createElementNS('http://www.w3.org/2000/svg','g');
  const shaft = line(x1,y1,x2,y2,'var(--arrow)',2.2);
  g.appendChild(shaft);
  const ang = Math.atan2(y2 - y1, x2 - x1);
  const headLen = 8;
  const hx1 = x2 - headLen * Math.cos(ang - Math.PI/6);
  const hy1 = y2 - headLen * Math.sin(ang - Math.PI/6);
  const hx2 = x2 - headLen * Math.cos(ang + Math.PI/6);
  const hy2 = y2 - headLen * Math.sin(ang + Math.PI/6);
  g.appendChild(line(x2,y2,hx1,hy1,'var(--arrow)',2.2));
  g.appendChild(line(x2,y2,hx2,hy2,'var(--arrow)',2.2));
  return g;
}

// ---------- Downloads ----------
function svgToString(svg){
  const clone = svg.cloneNode(true);
  // Ensure styles are embedded so downloads look correct
  const style = document.createElement('style');
  style.textContent = `
    :root { --court:#f6b45b; --court-lines:#2b2f36; --offense:#e63946; --defense:#1b1b1b; --arrow:#4a90e2; --ink:#e9eef5; }
    text { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial; }
  `;
  clone.insertBefore(style, clone.firstChild);
  const xml = new XMLSerializer().serializeToString(clone);
  return `<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n` + xml;
}
function downloadSVG(svg, filename){
  const str = svgToString(svg);
  const blob = new Blob([str], {type:'image/svg+xml;charset=utf-8'});
  const url = URL.createObjectURL(blob);
  triggerDownload(url, filename);
  setTimeout(()=>URL.revokeObjectURL(url), 1500);
}
function downloadPNG(svg, filename){
  const str = svgToString(svg);
  const img = new Image();
  const svgBlob = new Blob([str], {type:'image/svg+xml;charset=utf-8'});
  const url = URL.createObjectURL(svgBlob);
  img.onload = function(){
    const w = svg.viewBox.baseVal.width || 360;
    const h = svg.viewBox.baseVal.height || 240;
    const canvas = document.createElement('canvas');
    canvas.width = w*3; canvas.height = h*3; // 3x for crisper PNG
    const ctx = canvas.getContext('2d');
    ctx.fillStyle = '#f6b45b'; // court bg fallback
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
    URL.revokeObjectURL(url);
    canvas.toBlob(b => {
      const pngUrl = URL.createObjectURL(b);
      triggerDownload(pngUrl, filename);
      setTimeout(()=>URL.revokeObjectURL(pngUrl), 1500);
    }, 'image/png');
  };
  img.src = url;
}
function triggerDownload(url, filename){
  const a = document.createElement('a');
  a.href = url; a.download = filename; document.body.appendChild(a);
  a.click(); a.remove();
}

// ---------- Events ----------
searchEl.addEventListener('input', render);
render();
</script>
  <script src="script.js"></script>
</body>
</html>
